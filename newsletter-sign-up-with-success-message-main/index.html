<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <title>Frontend Mentor | Newsletter sign-up form with success message</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      $("#submit").on("click", function (e) {
        e.preventDefault();
        const emailInput = $("#email");
        const email = emailInput.val();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (!emailRegex.test(email)) {
          emailInput.addClass("invalid");
          $("#email-error").show();
        } else {
          emailInput.removeClass("invalid");
          $("#email-error").hide();
          // ส่งอีเมลไปยังหน้า success.html ผ่าน URL parameter
          window.location.href = `success.html?email=${encodeURIComponent(email)}`;
        }
      });
    });



  </script>
</head>

<body>
  <div class="card">
    <div class="card-body p-0">
      <div class="row m-0">
        <div class="col-sm-12 col-md-7 col-lg-7 p-5 box-1">
          <div class="text">
            <h1 style="color: var(--DarkSlateGrey);">Stay updated!</h1>
            <p style="color: var(--CharcoalGrey); font-size: var(--Fontsize); margin-top: 20px;">
              Join 60,000+ product managers receiving monthly updates on:
            </p>
            <div class="icon-text">
              <p>
                <img src="assets/images/icon-list.svg" alt="Icon">
                Product discovery and building what matters
              </p>
              <p>
                <img src="assets/images/icon-list.svg" alt="Icon">
                Measuring to ensure updates are a success
              </p>
              <p>
                <img src="assets/images/icon-list.svg" alt="Icon">
                And much more!
              </p>
            </div>

            <form action="" method="post">
              <div class="mb-3 mt-4 button">
                <label for="exampleFormControlInput1" class="form-label">Email address</label>
                <div class="email-container">
                  <input type="email" id="email" class="form-control" placeholder="name@example.com">
                  <small id="email-error" class="text-danger" style="display: none;">Valid email required</small>
                </div>
                <button type="submit" class="btn btn-dark w-100 mt-4" id="submit">Subscribe to monthly
                  newsletter</button>

              </div>
            </form>
          </div>
        </div>
        <div class="col-sm-12 col-md-5 col-lg-5 p-0 img-container">
          <img class="img-desktop" src="assets/images/illustration-sign-up-desktop.svg" alt="Sign Up Illustration">
          <img class="img-mobile" src="assets/images/illustration-sign-up-mobile.svg" alt="">
        </div>
      </div>
    </div>
  </div>
</body>

</html>